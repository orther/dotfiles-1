<?xml version="1.0"?>
<root>
  <devicevendordef>
    <vendorname>KINESIS</vendorname>
    <vendorid>0x05f3</vendorid>
  </devicevendordef>

  <deviceproductdef>
    <productname>ADVANTAGE</productname>
    <productid>0x0007</productid>
  </deviceproductdef>

  <item>
    <name>Kinesis tweaks</name>

    <item>
      <name>Hold esc for control</name>
      <identifier>aaronjensen.kinesis.esc_ctrl</identifier>
      <device_only>DeviceVendor::KINESIS, DeviceProduct::ADVANTAGE</device_only>

      <!-- Hold esc for ctrl -->
      <autogen>
        __KeyOverlaidModifier__
        KeyCode::ESCAPE,
        ModifierFlag::NONE,
        KeyCode::CONTROL_L,
        ModifierFlag::NONE,
        KeyCode::ESCAPE
      </autogen>
    </item>

    <item>
      <name>COMMAND_R -> Hyper</name>
      <identifier>aaronjensen.kinesis.hyper</identifier>
      <device_only>DeviceVendor::KINESIS, DeviceProduct::ADVANTAGE</device_only>


      <!-- Hyper -->
      <autogen>
        __KeyToKey__
        KeyCode::COMMAND_R,
        KeyCode::COMMAND_L,
        ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L
      </autogen>
    </item>
  </item>

  <item>
    <name>Remap ; to Hyper when held down, ; when typed normally</name>
    <appendix>OS X doesn't have a Hyper. This maps right control to Control + Shift + Option + Command.</appendix>

    <identifier>aaronjensen.semicolon_to_hyper</identifier>

    <autogen>
      __KeyOverlaidModifier__
      KeyCode::SEMICOLON,
      ModifierFlag::NONE,
      KeyCode::COMMAND_L,
      ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L,
      KeyCode::SEMICOLON
    </autogen>

    <!-- ; followed by space is difficult to type w/o triggering hyper, this works around it -->
    <autogen>
      __KeyToKey__
      KeyCode::SPACE,
      ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L | ModifierFlag::SHIFT_L | ModifierFlag::CONTROL_L,
      KeyCode::SEMICOLON, KeyCode::SPACE
    </autogen>
  </item>
</root>
